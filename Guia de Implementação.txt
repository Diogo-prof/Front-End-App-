# Guia de ImplementaÃ§Ã£o - Learning Platform

## ğŸ“‹ Estrutura do Projeto

```
learning-platform/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.php
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ User.php
â”‚   â”‚   â”œâ”€â”€ Course.php
â”‚   â”‚   â””â”€â”€ Video.php
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth.php
â”‚   â”‚   â”œâ”€â”€ dashboard.php
â”‚   â”‚   â”œâ”€â”€ courses.php
â”‚   â”‚   â””â”€â”€ videos.php
â”‚   â”œâ”€â”€ .htaccess
â”‚   â””â”€â”€ composer.json
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â””â”€â”€ database/
    â””â”€â”€ schema.sql
```

## ğŸ—„ï¸ ConfiguraÃ§Ã£o da Base de Dados

### 1. Criar a Base de Dados
```bash
# Acesso ao MySQL
mysql -u root -p

# Executar o script SQL
source /caminho/para/schema.sql
```

### 2. Configurar ConexÃ£o
Editar `backend/config/database.php`:
```php
private $host = 'localhost';
private $db_name = 'learning_platform';
private $username = 'seu_usuario';
private $password = 'sua_senha';
```

## ğŸ”§ Backend - API PHP

### 1. InstalaÃ§Ã£o de DependÃªncias
```bash
cd backend
composer install
```

### 2. ConfiguraÃ§Ã£o do Servidor Web

#### Apache (.htaccess)
```apache
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^api/(.*)$ api/$1.php [QSA,L]

Header always set Access-Control-Allow-Origin "*"
Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization"
```

#### Nginx
```nginx
location /api/ {
    try_files $uri $uri/ /api/$uri.php?$args;
}

location ~ \.php$ {
    fastcgi_pass unix:/var/run/php/php8.0-fpm.sock;
    fastcgi_index index.php;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    include fastcgi_params;
}
```

### 3. Estrutura das APIs

#### Endpoints DisponÃ­veis:
- `POST /api/auth` - AutenticaÃ§Ã£o
- `GET /api/dashboard` - Dados do dashboard
- `GET /api/courses` - Lista de cursos do utilizador
- `GET /api/videos` - Lista de vÃ­deos
- `POST /api/videos` - Atualizar progresso do vÃ­deo

## ğŸ“± Frontend - React/HTML

### 1. VersÃ£o HTML (DemonstraÃ§Ã£o)
A aplicaÃ§Ã£o HTML funciona diretamente no browser e inclui:
- Interface responsiva otimizada para mobile
- SimulaÃ§Ã£o de API para demonstraÃ§Ã£o
- Design moderno com glassmorphism
- NavegaÃ§Ã£o bottom-nav estilo mobile

### 2. VersÃ£o React Integrada
Para integraÃ§Ã£o com a API real:

```bash
# Instalar dependÃªncias
npm install react react-dom

# Configurar API base URL
# Em src/services/api.js
const baseUrl = 'http://seu-dominio.com/api';
```

### 3. Funcionalidades Implementadas

#### AutenticaÃ§Ã£o
- Login com email/password
- GestÃ£o de tokens JWT
- Logout automÃ¡tico

#### Dashboard
- Total de cursos inscritos
- Cursos concluÃ­dos
- EstatÃ­sticas de vÃ­deos
- Tempo de estudo semanal

#### Biblioteca de Cursos
- Lista de cursos do utilizador
- Progresso visual
- Filtros por categoria
- InformaÃ§Ãµes detalhadas

#### ReproduÃ§Ã£o de VÃ­deos
- Player de vÃ­deo simulado
- Controlo de progresso
- EstatÃ­sticas de visualizaÃ§Ã£o
- Lista de vÃ­deos relacionados

## ğŸš€ Deployment

### 1. Ambiente de Desenvolvimento

#### Backend (PHP)
```bash
# Usando servidor built-in do PHP
cd backend
php -S localhost:8000

# Ou usando XAMPP/WAMP/MAMP
# Colocar arquivos na pasta htdocs
```

#### Frontend
```bash
# Servir arquivos HTML estaticos
npx http-server frontend -p 3000

# Ou usar Live Server no VS Code
```

### 2. Ambiente de ProduÃ§Ã£o

#### Servidor Web (Apache/Nginx)
1. **Upload dos arquivos**:
   - Backend â†’ `/var/www/html/api/`
   - Frontend â†’ `/var/www/html/`

2. **Configurar Virtual Host**:
```apache
<VirtualHost *:80>
    ServerName seu-dominio.com
    DocumentRoot /var/www/html
    
    <Directory "/var/www/html">
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
```

3. **PermissÃµes**:
```bash
sudo chown -R www-data:www-data /var/www/html
sudo chmod -R 755 /var/www/html
```

#### Base de Dados
1. **Criar utilizador de produÃ§Ã£o**:
```sql
CREATE USER 'learning_user'@'localhost' IDENTIFIED BY 'senha_segura';
GRANT ALL PRIVILEGES ON learning_platform.* TO 'learning_user'@'localhost';
FLUSH PRIVILEGES;
```

2. **Backup e Restore**:
```bash
# Backup
mysqldump -u root -p learning_platform > backup.sql

# Restore
mysql -u root -p learning_platform < backup.sql
```

## ğŸ”’ SeguranÃ§a

### 1. AutenticaÃ§Ã£o JWT
```php
// Implementar JWT real
composer require firebase/php-jwt

// No login
$payload = array(
    "user_id" => $user->id,
    "exp" => time() + (60 * 60 * 24) // 24 horas
);
$jwt = JWT::encode($payload, $secret_key, 'HS256');
```

### 2. ValidaÃ§Ã£o de Dados
```php
// Sanitizar inputs
$email = filter_var($_POST['email'], FILTER_SANITIZE_EMAIL);
$password = htmlspecialchars($_POST['password']);

// Validar dados
if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    // Erro de validaÃ§Ã£o
}
```

### 3. PrevenÃ§Ã£o de SQL Injection
```php
// Sempre usar prepared statements
$stmt = $pdo->prepare("SELECT * FROM users WHERE email = ?");
$stmt->execute([$email]);
```

## ğŸ“Š OtimizaÃ§Ãµes

### 1. Performance do Backend
- **Caching**: Implementar Redis/Memcached
- **Ãndices**: Criar Ã­ndices nas queries frequentes
- **PaginaÃ§Ã£o**: Limitar resultados das consultas
- **CompressÃ£o**: Ativar gzip no servidor

### 2. Performance do Frontend
- **MinificaÃ§Ã£o**: Comprimir CSS/JS
- **CDN**: Usar CDN para recursos estÃ¡ticos
- **Lazy Loading**: Carregar conteÃºdo sob demanda
- **Service Workers**: Cache offline

### 3. MonitorizaÃ§Ã£o
- **Logs**: Configurar logs de erro
- **Analytics**: Implementar tracking de uso
- **Uptime**: Monitorizar disponibilidade
- **Performance**: MÃ©tricas de tempo de resposta

## ğŸ§ª Testes

### 1. Testes da API
```bash
# Testar endpoints com curl
curl -X POST http://localhost:8000/api/auth \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"password"}'
```

### 2. Testes do Frontend
```javascript
// Testes unitÃ¡rios com Jest
npm install --save-dev jest @testing-library/react

// Testes de integraÃ§Ã£o
npm install --save-dev cypress
```

## ğŸ“ DocumentaÃ§Ã£o da API

### Endpoints

#### POST /api/auth
**DescriÃ§Ã£o**: AutenticaÃ§Ã£o do utilizador
**Body**:
```json
{
  "email": "admin@example.com",
  "password": "password"
}
```
**Response**:
```json
{
  "message": "Login successful",
  "token": "jwt_token_aqui",
  "user": {
    "id": 1,
    "name": "Admin User",
    "email": "admin@example.com"
  }
}
```

#### GET /api/dashboard
**DescriÃ§Ã£o**: Dados do dashboard do utilizador
**Headers**: `Authorization: Bearer {token}`
**Response**:
```json
{
  "totalCourses": 24,
  "completedCourses": 8,
  "totalVideos": 156,
  "watchedVideos": 45,
  "studyTime": 42
}
```

## ğŸ”„ Versionamento e ManutenÃ§Ã£o

### 1. Git Workflow
```bash
# Branches principais
main        # ProduÃ§Ã£o
develop     # Desenvolvimento
feature/*   # Novas funcionalidades
hotfix/*    # CorreÃ§Ãµes urgentes
```

### 2. Deploy AutomÃ¡tico
```yaml
# .github/workflows/deploy.yml
name: Deploy
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Deploy to server
        run: rsync -avz . user@server:/var/www/html/
```

### 3. Backup AutomÃ¡tico
```bash
#!/bin/bash
# backup.sh
DATE=$(date +%Y%m%d_%H%M%S)
mysqldump -u user -p password learning_platform > backup_$DATE.sql
tar -czf app_backup_$DATE.tar.gz /var/www/html/
```

## ğŸ“ Suporte e ManutenÃ§Ã£o

### Logs de Erro
- Backend: `/var/log/apache2/error.log`
- PHP: `error_log()` function
- Frontend: Browser console

### Troubleshooting Comum
1. **CORS Error**: Verificar headers no .htaccess
2. **Database Connection**: Verificar credenciais
3. **Token Expired**: Implementar refresh token
4. **Performance**: Verificar queries SQL